package  com.nestor.hcl.cases {		import flash.display.MovieClip;	import caurina.transitions.*;	import flash.events.*;	public class items extends MovieClip {		var SwoopTime:Number=1;		var offRoZ=-110;		var nextCase:Number;		public var serverPre:String;		var itemList:Array=new Array();		var itemData:Array;		var url_alias:Number=3;				public function items() {			addEventListener(Event.ADDED_TO_STAGE, init);			itemList.push(art_mc);			itemList.push(doc_mc);			itemList.push(pic_mc);		}				private function init(e:Event):void		{			stackPrompt_mc.alpha=0;			//this.rotation=offRoZ;			back_mc.addEventListener(MouseEvent.MOUSE_UP, function(){dispatchEvent(new Event("resetCases"))});			back_mc.visible=false;			back_mc.mouseEnabled=false;		}						public function swapCase(_case:Array)		{			itemData=_case;			if(item_flag_mc.x == item_flag_mc.offX)			{				trace("Flag is offstage")				item_flag_mc.swoopOn();			}						//Tweener.addTween(this,{time:SwoopTime,rotation:offRoZ,onComplete:swoopOffDone});			for (var i in itemList)			{				Tweener.addTween(itemList[i],{time:SwoopTime,y:itemList[i].initY-itemList[i].initH,x:itemList[i].initX+(itemList[i].initW),rotation:itemList[i].initRoZ-22,onComplete:swoopOffDone, onCompleteParams:[i]});			}		}				private function swoopOffDone(_i:Number):void		{				var aURLs:Array=new Array;				itemList[_i].unloadStack();				for each(var item in itemData[_i])				{					aURLs.push(serverPre+item[3]);				}				itemList[_i].loadStack(aURLs);				itemList[_i].addEventListener("readyToSwoop", swoopOn);		}				private function swoopOn(e:Event)		{									//if (this.rotation==offRoZ) Tweener.addTween(this,{time:SwoopTime,rotation:0});			Tweener.addTween(e.target,{time:1,x:e.target.initX,y:e.target.initY,rotation:e.target.initRoZ});			e.target.addEventListener(MouseEvent.MOUSE_UP, lookAtMe);		}		private function lookAtMe(m:MouseEvent):void		{			trace("LookAtMe");			if(stackPrompt_mc.alpha!=1)stackPrompt_mc.alpha=1;			m.currentTarget.removeEventListener(MouseEvent.MOUSE_UP, lookAtMe);			for each(var i in itemList)			{				if (i==m.currentTarget)				{					i.focus();				}				else				{					i.blur();					i.addEventListener(MouseEvent.MOUSE_UP, lookAtMe);				}							}												dispatchEvent(new Event("itemFocus"));			if( back_mc.visible==false)			{				back_mc.visible=true;				back_mc.mouseEnabled=true;			}		}				public function resetItems():void		{			stackPrompt_mc.alpha=0;			for each(var i in itemList)			{				i.blur();				i.addEventListener(MouseEvent.MOUSE_UP, lookAtMe);			}			back_mc.visible=false;			back_mc.mouseEnabled=false;		}					}	}