package  com.nestor.hcl.quiz {	import flash.display.Sprite;	import flash.events.*;	import flash.display.Sprite;		public class qaList extends Sprite{		var quiz,cfg:XML;		var questions:Array;		var currentRow:Number=0;				public function qaList(_cfg,_quiz) {			// constructor code			quiz=_quiz;			cfg=_cfg;			this.addEventListener(Event.ADDED_TO_STAGE,init);			questions=new Array();								}								private function init(e:Event):void		{			this.removeEventListener(Event.ADDED_TO_STAGE,init);											}				public function setup(){			populate(currentRow);		}				public function populate(i:Number):void		{			var _q:XML=quiz.row[i];			for each (var q:String in _q.questions.question)			{				if(Boolean(q))				{					var tmpQuiz:qa=new qa(cfg,q);					var largo:uint = questions.push(tmpQuiz);					trace("Question: "+q);					questions[largo-1].id=largo-1;					addChild(questions[largo-1]);					questions[largo-1].addEventListener(FocusEvent.FOCUS_IN, editMode);				}			}		}										private function editMode(e:Event):void{			var foc:Sprite = e.currentTarget as Sprite;			if (foc is qa){				foc.removeEventListener(FocusEvent.FOCUS_IN, editMode);				foc.addEventListener(FocusEvent.FOCUS_OUT, viewMode);								for each (var q:qa in questions)				{					if (q == foc)					{						if (q._answer.text==q.def) q._answer.text="";						q.expand();						q.addEventListener("collapsed",blur);					}					else					{						q.hide();					}									}															}					}				private function blur(e:Event):void		{			stage.focus=null;						var foc:Sprite = e.currentTarget as Sprite;									for each (var q:qa in questions)				{					if (q == foc){						q.addEventListener(FocusEvent.FOCUS_IN, editMode);					}					else q.show();				}					}				private function viewMode(e:Event){					}	}	}